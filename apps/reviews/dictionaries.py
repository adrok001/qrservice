"""
Словари тональности для анализа отзывов HoReCa.

Содержит:
- NEGATIVE_LEMMAS: негативные леммы
- POSITIVE_LEMMAS: позитивные леммы
- NEGATIVE_PHRASES: негативные фразы
- POSITIVE_PHRASES: позитивные фразы
- NEGATABLE_WORDS: слова, негативные при отрицании
- NEGATIVE_WITHOUT_CONSTRUCTS: негатив с "без"
- WAIT_TIME_PATTERNS: паттерны времени ожидания
"""
from typing import Set

# Негативные леммы (только базовые формы)
NEGATIVE_LEMMAS: Set[str] = {
    # Общий негатив
    "ужасный", "ужас", "кошмар", "кошмарный",
    "отвратительный", "плохой", "худший",
    "вшивый", "паршивый", "дрянной", "гадкий",

    # Еда
    "невкусный", "несъедобный", "холодный", "пересоленный",
    "недосоленный", "сырой", "недожаренный", "подгореть", "подгорелый",
    "горелый", "пригореть", "пригорелый", "уголь",
    "испортить", "испорченный", "несвежий", "тухлый", "протухнуть",
    "тухлятина", "тухнуть",
    "кислый", "пресный", "безвкусный",

    # Сервис/персонал
    "грубый", "грубость", "хам", "хамить", "хамство", "нахамить",
    "лгун", "обманщик", "обмануть", "обман",
    "невежливый", "игнорировать", "наглый", "наглость",
    "ленивый", "лень", "медлительный", "ленивец",
    "тюлень",
    "непрофессиональный", "непрофессионализм",
    "некомпетентный", "некомпетентность",
    "забывать", "забыть", "путать", "перепутать",
    "отказать", "отказаться", "отказывать",

    # Обсчёт/цена
    "обсчитать", "переплатить", "дорогой", "завышенный",
    "пробить",

    # Ожидание
    "долгий", "медленный", "медленно", "долго",

    # Комфорт
    "грязный", "грязь", "вонь", "вонять", "вонючий",
    "шумный", "душный", "тесный",
    "капать", "течь", "протекать",
    "волос",  # посторонний предмет в еде

    # Здоровье/безопасность
    "тошнить", "тошнота", "рвота", "отравить", "отравление",
    "диарея", "понос", "больница",

    # Эмоции/общее
    "разочаровать", "разочарование", "расстроить",
    "неприятный", "неприятно", "испортить",
    "ненавидеть", "бесить", "раздражать",
    "виноват", "виноватый", "вина",

    # Процесс/бронирование
    "занятый", "занять",
}

# Негативные фразы
NEGATIVE_PHRASES: Set[str] = {
    # Рекомендации
    "не рекомендую", "не советую", "не приду", "не вернусь",
    "ни ногой", "не ногой", "больше не приду",
    "больше не пойдём", "больше не пойдем", "больше не пойду",
    "вряд ли вернусь", "вряд ли вернёмся", "вряд ли вернемся",
    "вряд-ли вернусь", "вряд-ли вернёмся", "вряд-ли вернемся",
    "праздник не удался", "не удался",
    "испортило впечатление", "испортил впечатление",
    "не предупредил", "не предупредили",

    # Оценка
    "так себе", "на троечку", "бывало лучше",
    "не очень", "не особо", "могло быть лучше",

    # Время ожидания
    "час ждал", "час ждали", "час ожидания",
    "полчаса ждал", "полчаса ждали",
    "40 минут", "45 минут", "50 минут",
    "ждали очень долго", "очень долго ждали",
    "ждать целый час", "ждали целый час",

    # Бронирование/процесс
    "было занято", "оказалось занято", "оказался занят",
    "столик занят", "место занято",

    # Обсчёт
    "пробили больше", "посчитали больше",
    "в счёте больше", "в счете больше",
    "лишнее в счёте", "лишнее в счете",

    # Фразы с "нет" (отсутствие)
    "нет ответа", "нет реакции", "нет внимания",
    "мест нет", "нет мест", "нет свободных",
    "нет извинений", "без извинений",
}

# Позитивные леммы
POSITIVE_LEMMAS: Set[str] = {
    # Сильный позитив
    "шикарный", "великолепный", "превосходный", "потрясающий",
    "восхитительный", "изумительный", "божественный", "идеальный",
    "прекрасный", "замечательный", "чудесный", "волшебный",

    # Обычный позитив
    "отличный", "хороший", "классный", "супер",
    "вкусный", "свежий", "качественный",
    "быстрый", "быстро", "оперативный", "оперативно",
    "вежливый", "приятный", "внимательный", "добрый", "милый",
    "уютный", "комфортный", "чистый", "красивый", "стильный",
    "душевный", "тёплый", "симпатичный", "отменный",

    # Сленг/разговорное
    "кайф", "кайфовый", "огонь", "бомба", "топ", "круто", "крутой",
    "офигенный", "клёвый", "клевый", "зачёт", "зачет",
    "чёткий", "четкий", "лайк", "красавчик",

    # Благодарность/похвала
    "спасибо", "молодец", "прекрасно",

    # Глаголы
    "понравиться", "нравиться", "рекомендовать", "советовать",
    "порадовать", "восхитить", "удивить",

    # Существительные
    "восторг", "удовольствие", "наслаждение",
}

# Позитивные фразы
POSITIVE_PHRASES: Set[str] = {
    "выше всяких похвал", "вне конкуренции",
    "на высоте", "на высшем уровне", "в восторге",
    "пальчики оближешь", "5 из 5",
    "пять звёзд", "пять звезд",
    "просто кайф", "просто огонь", "просто бомба",
    # Цена
    "низкие цены", "низких цен", "самых низких",
    "дёшево и вкусно", "дешево и вкусно",
    # Чистота
    "ни одной грязной", "не было грязных",
    # Рекомендации
    "буду советовать", "всем советовать",
    "обязательно придём", "обязательно приду",
}

# Слова, негативные при отрицании ("не извинились" = негатив)
NEGATABLE_WORDS: Set[str] = {
    # Извинения/вежливость
    "извиниться", "извинение", "извинить",
    "представиться", "представляться",

    # Помощь/внимание
    "помочь", "помощь", "внимание", "обратить",
    "встретить", "проводить", "обслужить", "обслуживать",
    "подсказать", "подсказывать",

    # Действия персонала
    "предложить", "принести", "дать", "давать",
    "убрать", "почистить", "поменять", "заменить",
    "подойти", "подходить", "позвать", "откликнуться",
    "ответить", "отвечать", "реагировать",

    # Качество
    "понравиться", "нравиться", "устроить", "устраивать",
    "оправдать", "соответствовать",
    "привлекать", "привлечь",

    # Компетенции
    "компетентный",

    # Время
    "успеть", "дождаться",

    # Возврат
    "вернуться", "возвращаться",
}

# Негативные конструкции с "без"
NEGATIVE_WITHOUT_CONSTRUCTS: Set[str] = {
    "внимание", "извинение", "ответ", "реакция",
    "помощь", "обслуживание", "сервис",
    "вкус", "соль", "специя",
}

# Regex паттерны для времени ожидания
WAIT_TIME_PATTERNS = [
    r'(\d+)\s*(час|часа|часов)',
    r'(3\d|4\d|5\d|\d{3,})\s*(минут|мин)',
    r'(полчаса|полтора\s*часа)',
]

# Паттерны для segment_analyzer
ASPECT_WAIT_TIME_PATTERNS = [
    (r'ждал[иа]?\s+час', 'долгое ожидание'),
    (r'час\s+ждал', 'долгое ожидание'),
    (r'\d+\s*час', 'долгое ожидание'),
    (r'ЧАС', 'эмоциональный акцент'),
    (r'не подтвердил', 'отказ'),
]

# Паттерны "персонал + негативное действие"
PERSONNEL_NEGATIVE_PATTERNS = [
    # Забывают/игнорируют
    (r'официант\w*\s+забы[влт]', 'персонал забывает'),
    (r'персонал\s+забы[влт]', 'персонал забывает'),
    (r'официант\w*\s+игнорир', 'персонал игнорирует'),
    (r'нас\s+игнорир', 'игнорирование'),
    (r'официант\w*\s+не\s+(подошёл|подошел|подходил)', 'персонал не подошёл'),
    # Грубость/хамство
    (r'официант\w*\s+(нахамил|хамит|грубит)', 'хамство персонала'),
    (r'персонал\s+(нахамил|хамит|грубит)', 'хамство персонала'),
    # Ошибки
    (r'официант\w*\s+перепутал', 'ошибка персонала'),
    (r'принесли\s+не\s+то', 'ошибка в заказе'),
]

# Маппинг наречий к прилагательным для RuSentiLex
ADVERB_TO_ADJ = {
    "неприятно": "неприятный", "хорошо": "хороший", "плохо": "плохой",
    "отлично": "отличный", "ужасно": "ужасный", "прекрасно": "прекрасный",
    "вкусно": "вкусный", "невкусно": "невкусный", "быстро": "быстрый",
    "медленно": "медленный", "грубо": "грубый", "долго": "долгий",
}

# Расширенные маркеры категорий для HoReCa
EXTENDED_CATEGORY_MARKERS = {
    "Сервис": {"админ", "обслужить", "обслуживать"},
    "Комфорт": {
        "дым", "курить", "курящий", "кондиционер", "кондей",
        "кондицат", "конфиденцианер", "кондицонер", "капать",
    },
    "Продукт": {"вкусно"},
}
