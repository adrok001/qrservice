{% extends 'qrcode_app/base.html' %}

{% block title %}QR Сервис - Главная{% endblock %}
{% block nav_home %}active{% endblock %}

{% block content %}
<div class="section">
    <div class="page-title">
        <h1>QR Сервис</h1>
    </div>
    <p class="page-subtitle">Создавайте QR-коды быстро и легко</p>

    <div class="card-grid">
        <a href="{% url 'generate_qr' %}" class="service-card">
            <div class="service-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path d="M12 4v16m8-8H4"/>
                </svg>
            </div>
            <div class="service-title">Создать QR-код</div>
            <div class="service-desc">Создайте QR-код и сохраните его в базу данных для дальнейшего использования</div>
            <span class="service-tag">
                <span class="service-tag-icon">&#9679;</span>
                Сохраняется
            </span>
        </a>

        <a href="{% url 'generate_inline' %}" class="service-card">
            <div class="service-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path d="M13 10V3L4 14h7v7l9-11h-7z"/>
                </svg>
            </div>
            <div class="service-title">Быстрая генерация</div>
            <div class="service-desc">Мгновенно создайте QR-код без сохранения. Быстро и просто</div>
            <span class="service-tag highlight">
                <span class="service-tag-icon">&#9889;</span>
                Мгновенно
            </span>
        </a>

        <a href="{% url 'download_qr' %}?data=example" class="service-card">
            <div class="service-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"/>
                </svg>
            </div>
            <div class="service-title">API для скачивания</div>
            <div class="service-desc">Прямое скачивание через URL-параметры для интеграции с другими сервисами</div>
            <span class="service-tag">
                API
            </span>
        </a>
    </div>
</div>

<div class="section">
    <h2 class="section-title">Последние QR-коды</h2>
    <p class="section-subtitle">10 последних созданных QR-кодов</p>

    {% if qr_codes %}
    <div class="qr-grid">
        {% for qr in qr_codes %}
        <a href="{% url 'qrcode_detail' qr.pk %}" class="qr-item">
            <img src="{{ qr.image.url }}" alt="QR-код">
            <p class="qr-item-text">{{ qr.data|truncatechars:30 }}</p>
        </a>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
        <div class="empty-state-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                <rect x="3" y="3" width="7" height="7"/>
                <rect x="14" y="3" width="7" height="7"/>
                <rect x="3" y="14" width="7" height="7"/>
                <rect x="14" y="14" width="7" height="7"/>
            </svg>
        </div>
        <p class="empty-state-text">QR-кодов пока нет</p>
        <a href="{% url 'generate_qr' %}" class="btn btn-primary">Создать первый QR-код</a>
    </div>
    {% endif %}
</div>
{% endblock %}
